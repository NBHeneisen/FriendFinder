<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Friend Finder Survey</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
          integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
</head>
<body>
    <!-- Modal -->
    <div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Your Match!</h4>
        </div>
        <div class="modal-body">
            <p>Some text in the modal.</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
        </div>

    </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="page-header">
                    <h1>Friend Finder Survey</h1>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-12">
                <h2>About you</h2>
                <form>

                    <div class="form-group">
                        <label for="userName"><h4>Name</h4></label>
                        <input type="text" class="form-control" id="userName" placeholder="Name goes here">
                    </div>

                    <div class="form-group">
                        <label for="photolink"><h4>Photo</h4></label>
                        <input type="text" class="form-control" id="photolink" placeholder="Post URL here">
                    </div>

                    <div id="questions">
                        <div class="form-group">
                            <h4>Question 1</h4>
                            <label for="sel1">Do you like food?</label>
                            <select class="form-control" id="q1">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h4>Question 2</h4>
                            <label for="q2">Are you happy?</label>
                            <select class="form-control" id="q2">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h4>Question 3</h4>
                            <label for="q3">Does the name "Jimmy" have any significant meaning to you?</label>
                            <select class="form-control" id="q3">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h4>Question 4</h4>
                            <label for="q4">Do you enjoy staring at the wall for long periods of time?</label>
                            <select class="form-control" id="q4">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h4>Question 5</h4>
                            <label for="q5">Do you feel like others think you're from a distant solar system?</label>
                            <select class="form-control" id="q5">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h4>Question 6</h4>
                            <label for="q6">Do you consider yourself a "nifty" person?</label>
                            <select class="form-control" id="q6">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h4>Question 7</h4>
                            <label for="q7">Do you want to know how to count all the way to schfifty five??</label>
                            <select class="form-control" id="q7">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h4>Question 8</h4>
                            <label for="q8">You're not crazy, are you?</label>
                            <select class="form-control" id="q8">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h4>Question 9</h4>
                            <label for="q9">Are you sure?</label>
                            <select class="form-control" id="q9">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h4>Question 10</h4>
                            <label for="q10">Ready to find your match???</label>
                            <select class="form-control" id="q10">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-danger" data-toggle="modal" data-target="#myModal">Submit</button>
                </form>
            </div>
        </div>
    </div>
    <br>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
        integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script type="text/javascript">
    $(".btn-danger").on("click", function(event) {
        event.preventDefault();

        var newFriend = {
            Name: $("#userName").val().trim(),
            Image: $("#photolink").val().trim(),
            Answers: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val()]
        };
        console.log(newFriend);
                
        if(newFriend.Name === "" || newFriend.Image === "") {
            alert("Please fill out all information before submitting!");
        } else {

            var currentURL = window.location.origin;

            $.post(currentURL + "api/friends", newFriend, function(data) {
                console.log(data);
            })
        }
    });
</script>
</body>
</html>